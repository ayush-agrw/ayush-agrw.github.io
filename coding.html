<html lang="en">

<head>
    <link rel="shortcut icon" type="image/png" href="images/logo_cute.jpg">
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-149477840-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-149477840-1');
    </script>

    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/script.js"></script>
    <!--    <script>-->
    <!--        $(function(){-->
    <!--            $("#navigationplaceholder").load("nav.html");-->
    <!--        });-->
    <!--    </script>-->

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ayush Agrawal | Coding Projects</title>
    <link rel="stylesheet" href="css/coding_styles.css">
    <link rel="stylesheet" href="css/navbar_styles_common.css">
    <link href="https://fonts.googleapis.com/css?family=Alegreya+Sans+SC:100|Lato:300|Raleway:300|Roboto:300,400|Work+Sans:300,400" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Mukta+Vaani:wght@200;300;400;500&display=swap" rel="stylesheet">
</head>

<body>

<div id="navigationplaceholder"></div>

<div id="page">

    <div class="heading">
        <h2 class="title">Image Stylization Tool</h2>
        <p style="width: 80%">This was definitely the most interesting and uncertain part of the
            pre-production process. The goal was to give my animated scenes a distinct look and feel
            that stays coherent throughout the movie. The inspiration for this was mostly the
            heavily stylized and post-processed look of Spider-Man Into the Spiderverse, as well as
            certain cyberpunk scenes. Thus, this tool applies certain effects (e.g., halftone
            textures, chromatic aberration, noise effects, vignettes,
            automatic graphic reduction for background elements, paint smears, line hatching) for a
            more sophisticated feel.
        </p>
        <p style="width: 80%">This tool can also be used to stylize a sequence of images, just like in
            proper movie scenes. For this, the look of the first image can be tweaked as needed and
            the program will automatically use these settings to dynamically apply these effects
            over all the individual images in succession, identifying changes in the picture and
            automatically adapting to them.
        </p>
        <p style="width: 80%">The sequential processing of thousands of images at a time was extremely
            time-consuming. Hence, the program is also optimized to support parallel processing, which
            distributes the images as individual tasks across multiple CPU cores, thus utilizing
            the full potential of every computer it  is deployed at.
        </p>
        <p style="width: 80%">Tip: use the slider to compare the inputs and the outputs for
            the examples below. The full code for this project is availabe here:
        </p>
        <p style="width: 80%">https://github.com/ayush-agrw/SF3_Stylization_Tool.git</p>
<!--        <img class="spaced-video" src="images/preproduction/example%20before.png" alt="modeling" width="90%" height="auto">-->
<!--        <img class="spaced-video" src="images/preproduction/output2.png" alt="modeling" width="90%" height="auto">-->
<!--        <img class="spaced-video" src="images/preproduction/5.png" alt="modeling" width="90%" height="auto">-->
<!--        <img class="spaced-video" src="images/preproduction/7.png" alt="modeling" width="90%" height="auto">-->
        <div class="comparison-container" id="compare1">
            <img src="images/preproduction/example%20before.png" alt="Before">
            <div class="after-wrapper">
                <img src="images/preproduction/output2.png" alt="After">
            </div>
            <div class="slider-handle"></div>
        </div>

        <div class="comparison-container" id="compare2">
            <img src="images/preproduction/5.png" alt="Before">
            <div class="after-wrapper">
                <img src="images/preproduction/7.png" alt="After">
            </div>
            <div class="slider-handle"></div>
        </div>
    </div>

</div>

<script src="js/jquery.min.js"></script>

<!--fade in-->
<script type="text/javascript">
    $(document).ready(function(){
        $('#page').fadeIn(500);
    });
</script>

<script>
    $(function() {
        $("#navigationplaceholder").load("nav.html", function() {
            $("#navigationplaceholder").css("opacity", 1);
        });
    });
</script>

<script>
    function initComparison(containerId) {
        const container = document.getElementById(containerId);
        const beforeImg = container.querySelector('img');
        const afterWrapper = container.querySelector('.after-wrapper');
        const slider = container.querySelector('.slider-handle');

        // Set container height based on image aspect ratio
        beforeImg.onload = () => {
            const aspect = beforeImg.naturalHeight / beforeImg.naturalWidth;
            container.style.height = (container.offsetWidth * aspect) + 'px';
        };

        let isDown = false;

        function move(e) {
            if (!isDown) return;
            const rect = container.getBoundingClientRect();
            let x = e.pageX - rect.left;
            x = Math.max(0, Math.min(x, rect.width));
            afterWrapper.style.width = x + 'px';
            slider.style.left = x + 'px';
        }

        container.addEventListener('mousedown', () => isDown = true);
        window.addEventListener('mouseup', () => isDown = false);
        window.addEventListener('mousemove', move);
    }

    window.addEventListener('load', () => {
        initComparison('compare1');
        initComparison('compare2'); // if you enable the second one
    });
</script>

</body>

</html>